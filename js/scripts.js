function _changePagination(index){var activeItem=$(".iphone-wrapper").find(".swiper-slide[data-index="+index+"]");$(".swiper-pagination-switch").each(function(){$(this).removeClass("swiper-active-switch")}),$(activeItem).addClass("swiper-active-switch"),$(".iphone-wrapper").find(".swiper-slide").removeClass("visible-fade-slow"),$(".iphone-wrapper").find(".swiper-slide[data-index="+index+"]").addClass("visible-fade-slow")}function _onVideoFinish(){$("html, body").animate({scrollTop:$(".iphone-wrapper").offset().top-40},1200,"easeOutExpo",function(){})}function _onVideoPlay(){console.log("run"),$("html, body").animate({scrollTop:0},400,"easeOutExpo",function(){$("body").addClass("video-playing")})}function _onVideoPlayProgress(){}function _onVideoPause(){console.log("here"),$("body").removeClass("video-playing")}var Froogaloop=function(){function Froogaloop(iframe){return new Froogaloop.fn.init(iframe)}function postMessage(method,params,target){if(!target.contentWindow.postMessage)return!1;var url=target.getAttribute("src").split("?")[0],data=JSON.stringify({method:method,value:params});"//"===url.substr(0,2)&&(url=window.location.protocol+url),target.contentWindow.postMessage(data,url)}function onMessageReceived(event){var data,method;try{data=JSON.parse(event.data),method=data.event||data.method}catch(e){}if("ready"!=method||isReady||(isReady=!0),event.origin!=playerDomain)return!1;var value=data.value,eventData=data.data,target_id=""===target_id?null:data.player_id,callback=getCallback(method,target_id),params=[];return callback?(void 0!==value&&params.push(value),eventData&&params.push(eventData),target_id&&params.push(target_id),params.length>0?callback.apply(null,params):callback.call()):!1}function storeCallback(eventName,callback,target_id){target_id?(eventCallbacks[target_id]||(eventCallbacks[target_id]={}),eventCallbacks[target_id][eventName]=callback):eventCallbacks[eventName]=callback}function getCallback(eventName,target_id){return target_id?eventCallbacks[target_id][eventName]:eventCallbacks[eventName]}function removeCallback(eventName,target_id){if(target_id&&eventCallbacks[target_id]){if(!eventCallbacks[target_id][eventName])return!1;eventCallbacks[target_id][eventName]=null}else{if(!eventCallbacks[eventName])return!1;eventCallbacks[eventName]=null}return!0}function getDomainFromUrl(url){"//"===url.substr(0,2)&&(url=window.location.protocol+url);for(var url_pieces=url.split("/"),domain_str="",i=0,length=url_pieces.length;length>i&&3>i;i++)domain_str+=url_pieces[i],2>i&&(domain_str+="/");return domain_str}function isFunction(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)}var eventCallbacks={},isReady=!1,playerDomain=(Array.prototype.slice,"");return Froogaloop.fn=Froogaloop.prototype={element:null,init:function(iframe){return"string"==typeof iframe&&(iframe=document.getElementById(iframe)),this.element=iframe,playerDomain=getDomainFromUrl(this.element.getAttribute("src")),this},api:function(method,valueOrCallback){if(!this.element||!method)return!1;var self=this,element=self.element,target_id=""!==element.id?element.id:null,params=isFunction(valueOrCallback)?null:valueOrCallback,callback=isFunction(valueOrCallback)?valueOrCallback:null;return callback&&storeCallback(method,callback,target_id),postMessage(method,params,element),self},addEvent:function(eventName,callback){if(!this.element)return!1;var self=this,element=self.element,target_id=""!==element.id?element.id:null;return storeCallback(eventName,callback,target_id),"ready"!=eventName?postMessage("addEventListener",eventName,element):"ready"==eventName&&isReady&&callback.call(null,target_id),self},removeEvent:function(eventName){if(!this.element)return!1;var self=this,element=self.element,target_id=""!==element.id?element.id:null,removed=removeCallback(eventName,target_id);"ready"!=eventName&&removed&&postMessage("removeEventListener",eventName,element)}},Froogaloop.fn.init.prototype=Froogaloop.fn,window.addEventListener?window.addEventListener("message",onMessageReceived,!1):window.attachEvent("onmessage",onMessageReceived),window.Froogaloop=window.$f=Froogaloop}(),player=null,iphoneSwiper=null,activeIndex=1;$(function(){iphoneSwiper=$(".iphone-wrapper-small").find(".swiper-container").swiper({mode:"horizontal",loop:!0,autoplay:3e3,pagination:".pagination-wrapper-small",createPagination:!0,paginationClickable:!1}),iphoneSwiper.startAutoplay()}),$(function(){$(".swiper-pagination-switch").click(function(){$(this).hasClass("swiper-active-switch")||(activeIndex=parseInt($(this).attr("data-index"),10),_changePagination(activeIndex))}),$(".iphone-wrapper .left-arrow-wrapper").click(function(){activeIndex--,1>activeIndex&&(activeIndex=6),_changePagination(activeIndex)}),$(".iphone-wrapper .right-arrow-wrapper").click(function(){activeIndex++,activeIndex>6&&(activeIndex=1),_changePagination(activeIndex)}),$(".iphone-wrapper-small .left-arrow-wrapper").click(function(){iphoneSwiper.stopAutoplay(),iphoneSwiper.swipePrev()}),$(".iphone-wrapper-small .right-arrow-wrapper").click(function(){iphoneSwiper.stopAutoplay(),iphoneSwiper.swipeNext()}),$(".video-wrapper iframe").load(function(){player=$f(document.getElementById("promotional-video")),player.addEvent("ready",function(){player.addEvent("play",_onVideoPlay),player.addEvent("playProgress",_onVideoPlayProgress),player.addEvent("pause",_onVideoPause),player.addEvent("finish",_onVideoFinish),$("html").hasClass("no-touch")&&$(window).width()>900&&player.api("play")})})});